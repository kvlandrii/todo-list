"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[398],{398:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var s=n(791),o=n(689),c=n(294),a=n(894),i=n(184);const r=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!1),[l,d]=(0,s.useState)(""),[h,u]=(0,s.useState)(""),[p,m]=(0,s.useState)(!1),[x,j]=(0,s.useState)(0),[g,b]=(0,s.useState)(!1),_="https://kvlandriitodos.onrender.com/users",f=(0,o.s0)(),{id:k}=(0,s.useContext)(a.O);(0,s.useEffect)((()=>{c.Z.get(_+"/".concat(k)).then((e=>{t(e.data.todos)})).catch((e=>{console.error(e)}))}),[x,k]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"add-todo-container",children:[n&&(0,i.jsxs)("div",{className:"form",children:[g&&(0,i.jsx)("p",{children:"Wrong length of name or description"}),(0,i.jsx)("input",{type:"text",placeholder:"Name",onChange:e=>{d(e.target.value)},value:l,className:"form__input"}),(0,i.jsx)("input",{type:"text",placeholder:"Description",onChange:e=>{u(e.target.value)},value:h,className:"form__input"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{type:"checkbox",checked:p,onChange:()=>{m(!p)},className:"form__input"}),(0,i.jsx)("span",{children:"Completed"})]})]}),(0,i.jsxs)("div",{className:"buttons-container",children:[(0,i.jsx)("button",{className:"buttons-container__button",onClick:()=>{if(b(!1),n){if(l.length>2&&l.length<20&&h.length<50)return c.Z.patch(_+"/".concat(k),{todos:[...e,{id:Math.random().toString(36).substr(2,9),title:l,description:h,checked:p,creationDate:(new Date).toUTCString()}]}).then((()=>{j((e=>e+1))})).catch((e=>{console.log(e)})),d(""),u(""),void m(!1);b(!0)}r(!0)},children:"Add ToDo"}),n&&(0,i.jsx)("button",{onClick:()=>{r(!n)},className:"buttons-container__button buttons-container__button_close",children:"Close"})]})]}),e.map(((n,s)=>(0,i.jsxs)("div",{className:"todo-container",children:[(0,i.jsxs)("div",{className:"todo-info ".concat(n.checked?"completed":""),children:[(0,i.jsx)("p",{children:s+1}),(0,i.jsx)("p",{children:n.title}),(0,i.jsx)("p",{children:n.description})]}),(0,i.jsx)("button",{onClick:()=>(t=>{f("/todo-list/edit",{state:{todos:e,item:t}})})(n),children:"Edit"}),(0,i.jsx)("button",{onClick:()=>((n,s)=>{const o=e.filter(((e,t)=>t!==s));c.Z.patch(_+"/".concat(k),{todos:o}).then((()=>{t(o)})).catch((e=>{console.error(e)}))})(0,s),children:"Delete"})]},n.id))),!e.length&&(0,i.jsx)("p",{children:"There are no todos yet"})]})}}}]);
//# sourceMappingURL=398.636cb25b.chunk.js.map