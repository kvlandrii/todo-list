"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[392],{392:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var a=s(791),n=s(894),o=s(689),r=s(294),l=s(184);const c=()=>{const[e,t]=(0,a.useState)(!1),[s,c]=(0,a.useState)(!1),[i,d]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),[p,u]=(0,a.useState)(!1),m=(0,a.useRef)(),x=(0,o.s0)(),j="https://kvlandriitodos.onrender.com/users",{setId:_,login:f,setLogin:w,password:S,setPassword:v,setIsAuthenticated:b}=(0,a.useContext)(n.O);return(0,l.jsxs)("div",{className:"login",children:[e&&(0,l.jsx)("p",{children:"Wrong length of login or password"}),s&&(0,l.jsx)("p",{children:"Wrong login or password"}),h&&(0,l.jsx)("p",{children:"Sign Up Successful"}),i&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{children:"User with this login already exists"}),(0,l.jsx)("p",{children:"Try to Sign In"})]}),(0,l.jsxs)("div",{className:"form",children:[(0,l.jsx)("input",{type:"text",placeholder:"Login",onChange:e=>{w(e.target.value),localStorage.setItem("login",e.target.value)},value:f,className:"form__input"}),(0,l.jsx)("input",{type:"password",ref:m,placeholder:"Password",onChange:e=>{v(e.target.value),localStorage.setItem("password",e.target.value)},value:S,className:"form__input"}),(0,l.jsxs)("div",{className:"form__checkbox-container",children:[(0,l.jsx)("input",{type:"checkbox",checked:p,onChange:()=>{m.current.type=p?"password":"text",u(!p)},className:"form__input"}),(0,l.jsx)("span",{children:"Show password"})]}),(0,l.jsxs)("div",{className:"form__button-container",children:[(0,l.jsx)("button",{onClick:()=>{t(!1),c(!1),d(!1),g(!1),f.length>3&&S.length>3&&f.length<15&&S.length<15?r.Z.get(j,{params:{login:f,password:S}}).then((e=>{e.data.length?(_(e.data[0].id),localStorage.setItem("id",e.data[0].id),b(!0),localStorage.setItem("isAuthenticated",!0),x("/todo")):(t(!1),c(!0))})).catch((e=>{console.error(e)})):(t(!0),c(!1))},className:"form__button",children:"Login"}),(0,l.jsx)("button",{onClick:()=>{t(!1),c(!1),d(!1),g(!1),f.length>3&&S.length>3&&f.length<15&&S.length<15?r.Z.get(j,{params:{login:f}}).then((e=>{e.data.length?d(!0):r.Z.post(j,{id:Math.random().toString(36).substr(2,9),login:f,password:S,todos:[]}).then((()=>{g(!0)})).catch((e=>{console.error(e)}))})).catch((e=>{console.error(e)})):t(!0)},className:"form__button",children:"Register"})]})]})]})}}}]);
//# sourceMappingURL=392.05866d37.chunk.js.map